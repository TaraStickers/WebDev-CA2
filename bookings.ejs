<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
  <title><%= title %></title>
  <link rel="stylesheet" href="/styles/style.css">
  <script src="/script.js" defer></script>
</head>

<body>

  <main class="booking-layout">

    <section id="reserve" class="reserve">
      <h2><%= title %></h2>

      <p>
        We are located at 12 Dawson Street, Dublin City Centre.
        <br>
        Book a table with us (limit of 6 through online reservation)
        <br>
        Please call or email for groups over 6 people.
      </p>

      <p class="contact">
        Phone:
        <a href="tel:+3531623344">+353 1623344</a>
        <br>
        Email:
        <a href="mailto:reserve@pizzacode.ie">reserve@pizzacode.ie</a>
      </p>
    </section>

    <section class="reserve-form">
      <h3>Online Reservation</h3>
      <p class="reserve-intro">Reserve a table for up to 6 people.</p>

      <form method="POST" action="/bookings" class="reserve-form-inner">
        <div class="field">
          <label>Name*</label>
          <input type="text" name="name" required>
        </div>

        <div class="field">
          <label>How many people?*</label>
          <input type="number" name="people" min="1" max="6" required>
        </div>

        <div class="field-row">
          <div class="field">
            <label>Date*</label>
            <input type="date" name="date" required>
          </div>

          <div class="field">
            <label>Time*</label>
            <input type="text" name="time" required>
          </div>
        </div>

        <div class="field">
          <label>Email*</label>
          <input type="email" name="email" required>
        </div>

        <button type="submit" class="reserve-btn">Book</button>
      </form>
    </section>

    <!-- BOOKINGS LIST -->
    <section class="reserve">
      <h3>Current Bookings</h3>

      <% if (bookings.length === 0) { %>
        <p>No bookings yet.</p>
      <% } else { %>
        <ul>
          <% bookings.forEach(booking => { %>
            <li>
              <strong><%= booking.name %></strong> â€”
              <%= booking.people %> people on
              <%= booking.date %> at
              <%= booking.time %>
            </li>
          <% }) %>
        </ul>
      <% } %>
    </section>

  </main>

  <footer>
    <p>
      <strong>PizzaCode</strong> is located at
      <strong>15 Dawson Street, Dublin 2.</strong>
    </p>
    <p>
      <strong>Phone:</strong> +353 1623344
      <br>
      <strong>Email:</strong> reserve@pizzacode.ie
    </p>
    <p>Website by Ryan White and Tara Johnson-Slevin</p>
  </footer>

</body>
</html>
